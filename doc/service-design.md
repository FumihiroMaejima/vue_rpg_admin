サービス設計

# 目的
1. エンターテイメントとして、ユーザーにRPG調のゲームをプレイして遊んで貰う。

# 方針
1. PC,スマートフォンでもプレイ出来る様にWebアプリケーションとして開発する。(メインはPC)
2. ゲームデータを管理する為の管理画面も作る。

# ユーザー画面
## ゲーム画面の仕組み
1. ユーザーは名前を入力しただけでゲームを始めることが出来る。(メールアドレス、パスワード等の個人情報は管理しない)
2. ユーザーに関するデータはStoreに格納する。(リロードしてもデータが消えない様に永続化する。)
3. 名前を入力した時にユーザーのデータをDBに登録する。(ログの取得の為。利用規約に記載が必須)
4. DBへの登録と同時に`JWTトークン`を発行する。リクエスト事にJWTトークンをヘッダーに設定する事でリクエストの認証を取る。
5. ゲームをクリアしたらresult画面を出す。(獲得アイテム、獲得キャラクター、遭遇イベントetc...)
6. store情報でゲームを進行させる為、ブラウザを閉じた瞬間ゲームは終わる仕組み。(=単純にやると15分ぐらいで終わるゲームが良い。)


## ゲームのルール
1. プレイ日数は100日
2. 100日以内に指定のアイテムを揃えた状態で、スタート地点に戻る事でゲームをクリア出来る。
3. 1回でも戦闘に負けるとゲームオーバー
4. アイテムの取得やイベントが発生有無によってリザルトに影響が出る。
5. 街ではアイテムを購入する事が出来る。
6. 体力の回復はどこでも出来る。


# 管理画面
## 管理画面の仕組み
1. 管理者はログイン画面でアクセスする(メールアドレス、パスワードで認証させる。)
2. 管理者作成画面で管理者を作成させる。
3. パスワードリセット画面を作成する。(未ログイン時。パスワード変更機能は管理画面で実行させる。)
4. 管理画面で出来る事:ユーザーログの確認、管理者の権限変更、管理者作成、管理者データ変更(password,address,name, authority)、データの登録、データの出力(csv)
5. 登録出来るデータ:能力、エリア、装備、称号、キャラクター、敵
6. CSV出力出来るデータ:ユーザーログ、管理者ログ、上記の登録したデータ
7. 登録出来るデータは画像も登録出来る。


# アプリケーション構成について
1. ユーザー画面と管理画面ではリポジトリを分けて別々のサービスとさせる。
2. フロントエンドは`TypeScritpt4.1(Vue.js3)`, バックエンドは`PHP8.0(Laravel8)`を採用する。
3. `Docker-compose`でサービスを構築する。
4. デプロイ先として`AWS ECS`を使う。
5. 画像ストレージは`S3`を使う(ローカル環境ではローカルフォルダに格納する)。
6. CI/CDは`Github Actions`を使う。

# DBについて
1. `MySQL`を使う(本番は`RDS`)。
2. ユーザー画面と管理画面で同じDBを使う。
3. ユーザー画面ではゲーム系のテーブルのみを利用する。


